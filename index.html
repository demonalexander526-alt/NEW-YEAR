<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>New Year Countdown</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,Arial}
body{
  background:radial-gradient(circle at top,#140022,#000);
  color:#fff;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
}
#countdown{
  z-index:5;
  padding:40px 60px;
  border-radius:26px;
  background:rgba(255,255,255,.1);
  backdrop-filter:blur(16px);
  text-align:center;
  box-shadow:0 0 80px rgba(255,0,255,.7);
}
.timer{display:flex;gap:20px;justify-content:center}
.box{
  min-width:120px;
  padding:20px;
  background:rgba(255,255,255,.15);
  border-radius:18px;
}
.box span{font-size:3rem;font-weight:bold;color:#00ffff}
button{
  margin-top:18px;
  padding:12px 22px;
  border-radius:14px;
  border:none;
  font-weight:bold;
  background:#00ffff;
  color:#000;
}
h1{
  background:linear-gradient(90deg,#ff00ff,#00ffff,#ffff00);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
h4{
  margin-top:20px;
  letter-spacing:4px;
  animation:glitch 1.2s infinite;
}
@keyframes glitch{
  0%{text-shadow:2px 0 #ff00ff,-2px 0 #00ffff}
  50%{text-shadow:-2px 0 #ff00ff,2px 0 #00ffff}
  100%{text-shadow:2px 0 #ff00ff,-2px 0 #00ffff}
}
#celebration{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}
#celebration h2{
  font-size:4.8rem;
  animation:pulse 1.4s infinite alternate;
  background:linear-gradient(90deg,#ff00ff,#00ffff,#ffff00);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
@keyframes pulse{
  from{text-shadow:0 0 30px #ff00ff}
  to{text-shadow:0 0 100px #00ffff}
}
canvas{position:fixed;inset:0;pointer-events:none}
</style>
</head>

<body>

<div id="countdown">
  <h1>NEW YEAR COUNTDOWN</h1>
  <div class="timer">
    <div class="box"><span id="m">10</span><div>MIN</div></div>
    <div class="box"><span id="s">00</span><div>SEC</div></div>
  </div>
  <button id="reset">üîÅ Reset Countdown</button>
  <h4>CREATED BY DEMON ALEX üëæ</h4>
</div>

<div id="celebration">
  <h2>HAPPY NEW YEAR 2026</h2>
  <h4>CREATED BY DEMON ALEX üëæüëæ</h4>
</div>

<canvas id="c"></canvas>

<script>
/* ---------- COUNTDOWN WITH PERSISTENCE ---------- */
const KEY="ny_end_time";
const DURATION=600; // 10 minutes

let end=localStorage.getItem(KEY);
if(!end){
  end=Date.now()+DURATION*1000;
  localStorage.setItem(KEY,end);
}else end=parseInt(end);

const timer=setInterval(()=>{
  let r=Math.max(0,Math.floor((end-Date.now())/1000));
  m.textContent=String(Math.floor(r/60)).padStart(2,"0");
  s.textContent=String(r%60).padStart(2,"0");

  if(r===0){
    clearInterval(timer);
    localStorage.removeItem(KEY);
    launchCelebration();
  }
},1000);

/* RESET BUTTON */
reset.onclick=()=>{
  localStorage.removeItem(KEY);
  location.reload();
};

/* ---------- CANVAS FIREWORKS ---------- */
const canvas=c,ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize);

let parts=[];
function explode(x,y,count,color){
  for(let i=0;i<count;i++)
    parts.push({
      x,y,
      vx:(Math.random()-.5)*12,
      vy:(Math.random()-.5)*12,
      a:1,c:color
    });
}
function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  parts.forEach(p=>{
    p.x+=p.vx;p.y+=p.vy;p.vy+=.05;p.a-=.015;
    ctx.globalAlpha=p.a;
    ctx.fillStyle=p.c;
    ctx.beginPath();
    ctx.arc(p.x,p.y,2,0,Math.PI*2);
    ctx.fill();
  });
  ctx.globalAlpha=1;
  parts=parts.filter(p=>p.a>0);
  requestAnimationFrame(loop);
}
loop();

/* ---------- SPELLING FIREWORKS ---------- */
function spell(text,y){
  ctx.font="bold 96px Arial";
  ctx.textAlign="center";
  ctx.fillText(text,canvas.width/2,y);
  const d=ctx.getImageData(0,0,canvas.width,canvas.height).data;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  let pts=[];
  for(let py=0;py<canvas.height;py+=6)
    for(let px=0;px<canvas.width;px+=6)
      if(d[(py*canvas.width+px)*4+3]>150)
        pts.push({x:px,y:py});
  let i=0;
  const draw=setInterval(()=>{
    if(i>=pts.length){clearInterval(draw);return}
    const p=pts[i++];
    explode(p.x,p.y,2,"#00ffff");
  },2);
}

/* ---------- AUDIO & BEAT SYNC ---------- */
const music=new Audio("https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3");
music.loop=true;music.volume=.8;

const AC=window.AudioContext||webkitAudioContext;
const audioCtx=new AC();
const src=audioCtx.createMediaElementSource(music);
const analyser=audioCtx.createAnalyser();
src.connect(analyser);
analyser.connect(audioCtx.destination);
analyser.fftSize=256;
const data=new Uint8Array(analyser.frequencyBinCount);

function beats(){
  analyser.getByteFrequencyData(data);
  let bass=data.slice(0,10).reduce((a,b)=>a+b)/10;
  if(bass>180){
    explode(Math.random()*canvas.width,Math.random()*canvas.height*.6,160,
      ["#ff00ff","#00ffff","#ffff00","#00ff66"][Math.random()*4|0]);
    navigator.vibrate?.(70);
  }
  requestAnimationFrame(beats);
}

/* ---------- START CELEBRATION ---------- */
function launchCelebration(){
  countdown.remove();
  celebration.style.display="flex";
  audioCtx.resume();
  music.play();
  beats();
  setTimeout(()=>spell("HAPPY NEW YEAR 2026 ‚òÑÔ∏è‚òÑÔ∏è",canvas.height/2),800);
  setTimeout(()=>spell("CREATED BY DEMON ALEX üëæüëæ",canvas.height/2+150),2200);
}
</script>
</body>
</html>
